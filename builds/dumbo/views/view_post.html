<div id="single-post-view" ng-app="dumboApp" ng-cloak ng-controller="ViewCtrl" class="container-fluid blue block" ng-init=init()>
    <div ng-if="listing.error">
        <i class="fa fa-spinner icon-large fa-spin fa-3x fa-fw margin-bottom"></i>
        <span>Loading...</span>
    </div>
    <md-card ng-if="!listing.error">
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">{{listing.title}}</span>
                <span class="md-subhead">${{listing.price}}</span>
            </md-card-title-text>
        </md-card-title>

        <md-card-content>
            <p>
                {{listing.description}}
            </p>
            <md-card-title-media class="left">
              <div class="md-media-lg card-media">
                  <div id="thumbnail">
                      <a class="thumb" ng-click="switch_source($index)" ng-repeat="link in listing.photo_urls track by $index">
                          <div class="photoUploadImage scaledImage block" ng-style="{'background-image':'url(' + (link.photo_url | thumbnail) + ')'}"></div>
                      </a>
                  </div>
                  <br>
                  <div id="image-preview">
                      <img id="view-pic" ng-src={{source}}>
                  </div>
              </div>
            </md-card-title-media>
        </md-card-content>
        <md-card-actions layout="row" layout-align="end center">
            <md-button ng-show="!isOwner" ng-click="contactSeller()">Contact Seller</md-button>
            <md-button ng-show="isOwner" ng-click="editListing()">Edit</md-button>
        </md-card-actions>
    </md-card>

    <script>
    $(document).ready(function () {
        $('.thumb').click(function () {
            $('#view-pic').attr(
                'src', this.firstChild.src);
            });

        });
        </script>

    </div>
